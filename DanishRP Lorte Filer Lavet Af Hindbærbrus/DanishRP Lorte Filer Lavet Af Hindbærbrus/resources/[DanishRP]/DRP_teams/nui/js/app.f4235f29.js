(function(e){function t(t){for(var s,r,c=t[0],o=t[1],u=t[2],m=0,p=[];m<c.length;m++)r=c[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"1bc3":function(e,t,a){},"3ba8":function(e,t,a){"use strict";a("e3ea")},"54c4":function(e,t,a){"use strict";a("9c91")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.opened||e.isRacing||e.isLoading||e.hasCountdown?a("div",{attrs:{id:"App"}},[e.isRacing?a("Racing",{attrs:{isRacing:e.isRacing,NameResource:e.NameResource,prependZero:e.prependZero,close:e.close}}):e._e(),e.isLoading?a("div",{staticClass:"loader-container"},[a("div",{staticClass:"background"}),e._m(0),a("h1",[e._v(e._s(e.loadingMessage))])]):e._e(),e.hasCountdown?a("div",{staticClass:"countdown"},[a("div",{staticClass:"countdown-wrapper",class:"GO"==e.countdown?"last":""},[a("h1",[e._v(e._s(e.countdown))])])]):e._e(),e.opened?a("div",{staticClass:"teams"},[a("div",{staticClass:"teams-menu"},[a("div",{staticClass:"notification"},[a("notifications",{attrs:{"animation-type":"velocity",group:"alert"}})],1),a("div",{staticClass:"teams-header"},[a("div",{staticClass:"close-menu",on:{click:function(t){return e.close()}}},[a("span",[e._v("x")])]),e._m(1)]),e.IsObjectEmpty(e.Team)?e._e():a("Team",{attrs:{StartLoading:e.StartLoading,Team:e.Team,Races:e.Races,source:e.source,playerJob:e.playerJob,isRacing:e.isRacing,MaxMembers:e.MaxMembers,NameResource:e.NameResource,prependZero:e.prependZero,close:e.close}}),e.IsObjectEmpty(e.Team)?a("NoTeam",{attrs:{StartLoading:e.StartLoading,MaxMembers:e.MaxMembers,OpenTeams:e.OpenTeams,TeamInvites:e.TeamInvites,NameResource:e.NameResource,close:e.close}}):e._e()],1)]):e._e()],1):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sk-fading-circle"},[a("div",{staticClass:"sk-circle1 sk-circle"}),a("div",{staticClass:"sk-circle2 sk-circle"}),a("div",{staticClass:"sk-circle3 sk-circle"}),a("div",{staticClass:"sk-circle4 sk-circle"}),a("div",{staticClass:"sk-circle5 sk-circle"}),a("div",{staticClass:"sk-circle6 sk-circle"}),a("div",{staticClass:"sk-circle7 sk-circle"}),a("div",{staticClass:"sk-circle8 sk-circle"}),a("div",{staticClass:"sk-circle9 sk-circle"}),a("div",{staticClass:"sk-circle10 sk-circle"}),a("div",{staticClass:"sk-circle11 sk-circle"}),a("div",{staticClass:"sk-circle12 sk-circle"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-menu"},[a("h1",[e._v("Danish"),a("span",[e._v("RP")])])])}],r=(a("b64b"),a("a15b"),a("bc3a")),c=a.n(r),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"teams-team-menu"},[a("div",{staticClass:"teams-team-nav"},[a("button",{on:{click:function(t){return e.SelectTeamPage("Team")}}},[e._v("Team")]),a("button",{on:{click:function(t){return e.SelectTeamPage("Racing")}}},[e._v("Racing")])]),a("div",{staticClass:"teams-team-header"},[a("h1",[e._v(e._s(e.Team.name)+" ("+e._s(e.GetTeamSize())+")")])]),"Team"===e.TeamPage?a("div",{staticClass:"teams-team-main"},[a("div",{staticClass:"team-subject"},[e._m(0),a("div",{staticClass:"team-content"},[e.isTeamOwner()?a("button",{on:{click:function(t){return e.DeleteTeam()}}},[e._v("Slet Team")]):e._e(),a("button",{on:{click:function(t){return e.LeaveTeam()}}},[e._v("Forlad Team")]),e.isTeamOwner()?a("button",{on:{click:function(t){return e.ChangeName()}}},[e._v("Skift Navn")]):e._e(),a("button",{class:e.Team.isPublic?"":"green",on:{click:function(t){return e.TogglePublic()}}},[e._v(e._s(e.Team.isPublic?"Luk Team":"Åben Team"))])])]),e.isTeamOwner()?a("div",{staticClass:"team-subject"},[e._m(1),a("div",{staticClass:"team-content"},[a("div",{staticClass:"team-invite"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inviteSource,expression:"inviteSource"}],staticClass:"Input-text",attrs:{type:"number",min:"1"},domProps:{value:e.inviteSource},on:{input:function(t){t.target.composing||(e.inviteSource=t.target.value)}}}),a("button",{on:{click:function(t){return e.InvitePlayer()}}},[e._v("Inviter")])])])]):e._e(),a("div",{staticClass:"team-subject"},[e._m(2),a("div",{staticClass:"team-content"},[e.IsObjectEmpty(e.Team.members)?e._e():a("div",{staticClass:"players"},e._l(e.Team.members,(function(t){return a("div",{key:t.source,staticClass:"player"},[a("p",[e._v(e._s(t.name))]),e.isTeamOwner()?a("button",{on:{click:function(a){return e.KickPlayer(t)}}},[e._v("Kick")]):e._e(),e.isTeamOwner()?a("button",{on:{click:function(a){return e.MakeLeader(t)}}},[e._v("Gør Leder")]):e._e()])})),0),e.IsObjectEmpty(e.Team.members)?a("div",{staticClass:"no-players"},[a("h1",[e._v("Der er pt. ingen medlemmer")])]):e._e()])]),a("div",{staticClass:"team-subject"},[e._m(3),a("div",{staticClass:"team-content"},[e.IsObjectEmpty(e.Team.invites)?e._e():a("div",{staticClass:"team-invites"},e._l(e.Team.invites,(function(t){return a("div",{key:t.source,staticClass:"invite"},[a("p",[e._v(e._s(t.name))]),e.isTeamOwner()?a("button",{on:{click:function(a){return e.RemoveInvite(t)}}},[e._v("Fjern Invite")]):e._e()])})),0),e.IsObjectEmpty(e.Team.invites)?a("div",{staticClass:"team-no-invites"},[a("h1",[e._v("Der er pt. ingen invites")])]):e._e()])])]):e._e(),"Racing"===e.TeamPage?a("div",{staticClass:"teams-team-main"},[e.IsObjectEmpty(e.GetRaces())?a("div",{staticClass:"racing-no-races"},[a("img",{attrs:{src:"img/logo.png",alt:"logo"}}),a("h1",[e._v("Der er pt. ingen Race")])]):e._e(),!e.IsObjectEmpty(e.GetRaces())&&e.isRacing?a("div",{staticClass:"racing-ongoing"},[a("img",{attrs:{src:"img/logo.png",alt:"logo"}}),a("h1",[e._v("Du er igang med et race")]),a("button",{on:{click:function(t){return e.ExitRace()}}},[e._v("forlad race")])]):e._e(),e.IsObjectEmpty(e.GetRaces())||e.isRacing?e._e():a("div",{staticClass:"racing-main"},e._l(e.GetRaces(),(function(t){return a("div",{key:t.id,staticClass:"racing-subject"},[a("button",{class:t.isOpen?"collapsible active":"collapsible",on:{click:function(a){return e.toggleRaceDiv(t)}}},[a("p",{staticClass:"text"},[e._v(e._s(t.name))]),a("p",{class:t.isActive?"pulse red":"pulse green"},[e._v(e._s(t.isActive?"● OFFLINE":"● ONLINE"))])]),a("div",{class:t.isOpen?"racing-content active":"racing-content"},[a("ol",e._l(t.bestTimes,(function(t,s){return a("li",{key:s},[a("p",{staticClass:"list-number"},[e._v(e._s(s+1))]),a("p",{staticClass:"divider"},[e._v("-")]),a("p",[e._v(e._s(t.driver)+" ("+e._s(t.vehicle)+")")]),a("p",{staticClass:"divider"},[e._v("-")]),a("p",{staticClass:"time"},[e._v(e._s(e.TransformTime("minutes",t.lapTime))+":"+e._s(e.TransformTime("seconds",t.lapTime))+":"+e._s(e.TransformTime("milliseconds",t.lapTime)))])])})),0),a("div",{staticClass:"racing-content-footer"},[a("button",{staticClass:"blue",on:{click:function(a){return e.SetRaceGPS(t)}}},[e._v("Sæt GPS")]),a("button",{staticClass:"blue",on:{click:function(a){return e.PreviewRace(t)}}},[e._v("Race Preview")]),a("button",{class:e.hasReadyUp(t)?"green":"",on:{click:function(a){return e.ToggleReady(t)}}},[e._v(e._s(e.hasReadyUp(t)?"Afmeld":"Klar")+" ("+e._s(t.membersReady.length)+"/"+e._s(e.GetTeamSize())+")")]),e.isTeamOwner()?a("button",{staticClass:"green",on:{click:function(a){return e.StartRace(t)}}},[e._v("Start Race")]):e._e()])])])})),0)]):e._e()])},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"team-header"},[a("h1",[e._v("Handlinger")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"team-header"},[a("h1",[e._v("Tilføj Spiller")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"team-header"},[a("h1",[e._v("Medlemmer")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"team-header"},[a("h1",[e._v("Invites")])])}],l=a("1da1"),m=(a("96cf"),a("caad"),a("2532"),a("d81d"),a("a434"),a("b0c0"),a("3d20")),p=a.n(m),d={props:{StartLoading:{},Team:{},Races:{},source:{},playerJob:{},isRacing:{},prependZero:{},MaxMembers:{},NameResource:{},close:{}},data:function(){return{TeamPage:"Team",inviteSource:1,processing:!1,timeoutTime:100}},methods:{SelectTeamPage:function(e){this.TeamPage=e},isTeamOwner:function(){return this.Team.owner.source==this.source},IsArrayEmpty:function(e){return e.length<=0},IsObjectEmpty:function(e){return Object.keys(e).length<=0},hasReadyUp:function(e){return e.membersReady.includes(this.source)},GetTeamSize:function(){return this.Team.members.length+1},hasWhitelistedJob:function(e){var t=this,a=!1;return this.IsArrayEmpty(e.whitelistedJobs)||e.whitelistedJobs.map((function(e){e==t.playerJob&&(a=!0)})),this.IsArrayEmpty(e.whitelistedJobs)&&(a=!0),a},GetRaces:function(){var e=this,t=[];return this.Races.map((function(a){e.hasWhitelistedJob(a)&&t.push(a)})),t},toggleRaceDiv:function(e){var t=this;if(!0!==t.processing){t.processing=!0,e.isOpen=!e.isOpen;var a=t.NameResource[0];c.a.post("https://".concat(a,"/toggleRaceOpen"),{raceID:e.id}).catch((function(e){console.log(e+" : Error at toggleRaceOpen")})),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},ToggleReady:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=t.hasReadyUp(e);if(0==a&&e.membersReady.push(this.source),1==a){var s=e.membersReady.indexOf(this.source);s>-1&&e.membersReady.splice(s,1)}var n=t.NameResource[0];c.a.post("https://".concat(n,"/toggleReady"),{raceID:e.id,isReady:a}).catch((function(e){console.log(e+" : Error at toggleReady")})),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},DeleteTeam:function(){var e=this;if(!0!==e.processing){e.processing=!0,e.StartLoading("Sletter Teamet",5e3);var t=e.NameResource[0];c.a.post("https://".concat(t,"/deleteTeam")).catch((function(e){console.log(e+" : Error at deleteTeam")})),setTimeout((function(){e.processing=!1}),e.timeoutTime)}},LeaveTeam:function(){var e=this;if(!0!==e.processing){e.processing=!0,e.StartLoading("Forlader Teamet",5e3);var t=e.NameResource[0];c.a.post("https://".concat(t,"/leaveTeam")).catch((function(e){console.log(e+" : Error at leaveTeam")})),setTimeout((function(){e.processing=!1}),e.timeoutTime)}},ChangeName:function(){var e=this;Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.a.fire({title:"Nyt navn på dit Team",input:"text",inputPlaceholder:"Skriv navnet på dit Team her...",showCancelButton:!0});case 2:a=t.sent,s=a.value,s&&(n=e.NameResource[0],i=s,e.Team.name=i,e.StartLoading("Ændre navn på teamet",5e3),c.a.post("https://".concat(n,"/changeName"),{team_name:i}).catch((function(e){console.log(e+" : Error at changeName")})));case 5:case"end":return t.stop()}}),t)})))()},TogglePublic:function(){var e=this;if(!0!==e.processing){e.processing=!0,e.Team.isPublic=!e.Team.isPublic;var t=e.NameResource[0];c.a.post("https://".concat(t,"/publicTeam")).catch((function(e){console.log(e+" : Error at publicTeam")})),setTimeout((function(){e.processing=!1}),e.timeoutTime)}},KickPlayer:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=e.source,s=t.NameResource[0];c.a.post("https://".concat(s,"/kickPlayer"),{player_id:a}).catch((function(e){console.log(e+" : Error at kickPlayer")})),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},MakeLeader:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=e.source;t.StartLoading("Gør "+e.name+" til leder af "+t.Team.name,5e3);var s=t.NameResource[0];c.a.post("https://".concat(s,"/transferOwnership"),{player_id:a}).catch((function(e){console.log(e+" : Error at transferOwnership")})),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},InvitePlayer:function(){var e=this;if(!0!==e.processing){e.processing=!0;var t=e.inviteSource,a=e.GetTeamSize();if(e.MaxMembers<=a)e.$notify({group:"alert",type:"error",title:"FEJL",text:"Teamet er for stort. Maks: "+e.MaxMembers});else{var s=e.NameResource[0];c.a.post("https://".concat(s,"/invitePlayer"),{player_id:t}).catch((function(e){console.log(e+" : Error at invitePlayer")})),setTimeout((function(){e.processing=!1}),e.timeoutTime)}}},RemoveInvite:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=t.NameResource[0];c.a.post("https://".concat(a,"/removeInvite"),{player_id:e.source,uuid:this.Team.uuid}).catch((function(e){console.log(e+" : Error at removeInvite")})),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},SetRaceGPS:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=t.NameResource[0];c.a.post("https://".concat(a,"/setGPS"),{raceID:e.id}).catch((function(e){console.log(e+" : Error at setGPS")})),this.close(),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},PreviewRace:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=t.NameResource[0];c.a.post("https://".concat(a,"/previewRace"),{raceID:e.id}).catch((function(e){console.log(e+" : Error at previewRace")})),this.close(),setTimeout((function(){t.processing=!1}),t.timeoutTime)}},StartRace:function(e){var t=this;if(!0!==t.processing){t.processing=!0;var a=e.membersReady.length,s=t.GetTeamSize();a<s?t.$notify({group:"alert",type:"error",title:"FEJL",text:"Der er ikke nok klar til at starte racet."}):(setTimeout((function(){t.processing=!1}),t.timeoutTime),Object(l["a"])(regeneratorRuntime.mark((function a(){var s,n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,p.a.fire({title:"Antal omgange",input:"text",inputPlaceholder:"Skriv antal omgange i løbet...",showCancelButton:!0});case 2:s=a.sent,n=s.value,n&&(i=n,r=t.NameResource[0],c.a.post("https://".concat(r,"/startRace"),{raceID:e.id,laps:i}).catch((function(e){console.log(e+" : Error at startRace")})));case 5:case"end":return a.stop()}}),a)})))())}},ExitRace:function(){var e=this;p.a.fire({title:"Vil du forlade racet?",showDenyButton:!1,showCancelButton:!0,confirmButtonText:"Ja",cancelButtonText:"Nej"}).then((function(t){if(t.isConfirmed){var a=e.NameResource[0];c.a.post("https://".concat(a,"/exitRace")).catch((function(e){console.log(e+" : Error at exitRace")}))}}))},TransformTime:function(e,t){var a=this,s=t,n=parseInt(s/1e3/60);n>=60&&(n%=60);var i=parseInt(s/1e3);i>=60&&(i%=60);var r=s;r>=1e3&&(r%=1e3);var c=void 0;return"minutes"==e&&(c=a.prependZero(n,2)),"seconds"==e&&(c=a.prependZero(i,2)),"milliseconds"==e&&(c=a.prependZero(r,2)),c},keyPress:function(e){var t=e.key;"Escape"==t&&this.close()}},created:function(){window.addEventListener("keydown",this.keyPress)},destroyed:function(){window.removeEventListener("keydown",this.keyPress)}},v=d,h=(a("54c4"),a("2877")),f=Object(h["a"])(v,o,u,!1,null,null,null),g=f.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"teams-noteam-menu"},[a("div",{staticClass:"teams-noteam-nav"},[a("button",{on:{click:function(t){return e.SelectNoTeamPage("createTeam")}}},[e._v("Opret Team")]),a("button",{on:{click:function(t){return e.SelectNoTeamPage("TeamInvites")}}},[e._v("Invites")]),a("button",{on:{click:function(t){return e.SelectNoTeamPage("TeamHub")}}},[e._v("Team Hub")])]),"createTeam"===e.NoTeamPage?a("div",{staticClass:"teams-noteam-content"},[a("img",{attrs:{src:"img/logo.png",alt:"logo"}}),a("h1",[e._v("Du er ikke en del af et team")]),a("button",{on:{click:function(t){return e.CreateTeam()}}},[e._v("opret Team")])]):e._e(),"TeamInvites"===e.NoTeamPage?a("div",{staticClass:"teams-invites"},[e.IsObjectEmpty(e.TeamInvites)?a("div",{staticClass:"invites-noteam"},[a("img",{attrs:{src:"img/logo.png",alt:"logo"}}),a("h1",[e._v("Du har ingen invites")])]):e._e(),e.IsObjectEmpty(e.TeamInvites)?e._e():a("div",{staticClass:"invites-main"},[e._m(0),a("div",{staticClass:"invites-content"},[a("div",{staticClass:"invites"},e._l(e.TeamInvites,(function(t){return a("div",{key:t.uuid,staticClass:"invite"},[a("p",[e._v(e._s(t.name))]),a("button",{staticClass:"green",on:{click:function(a){return e.AccecptInvite(t)}}},[e._v("Acceptere Invite")]),a("button",{on:{click:function(a){return e.DeclineInvite(t)}}},[e._v("Afvis Invite")])])})),0)])])]):e._e(),"TeamHub"===e.NoTeamPage?a("div",{staticClass:"teams-hub"},[e.IsObjectEmpty(e.OpenTeams)?a("div",{staticClass:"hub-noteam"},[a("img",{attrs:{src:"img/logo.png",alt:"logo"}}),a("h1",[e._v("Der er pt. ingen åbne Teams")])]):e._e(),e.IsObjectEmpty(e.OpenTeams)?e._e():a("div",{staticClass:"hub-main"},e._l(e.OpenTeams,(function(t){return a("div",{key:t.uuid,staticClass:"hub-subject"},[a("button",{class:t.isOpen?"collapsible active":"collapsible",on:{click:function(a){return e.toggleTeamDiv(t)}}},[a("p",{staticClass:"text"},[e._v(e._s(t.name))]),a("p",{staticClass:"text members_count"},[e._v("Medlemmer: "+e._s(t.members.length)+"/"+e._s(e.MaxMembers))])]),a("div",{class:t.isOpen?"hub-content active":"hub-content"},[a("ol",e._l(t.members,(function(t,s){return a("li",{key:t},[a("p",[e._v("- "+e._s(t.name)+" ("+e._s(s+1)+")")])])})),0),a("div",{staticClass:"hub-content-footer"},[a("button",{staticClass:"blue",on:{click:function(a){return e.JoinTeam(t)}}},[e._v("Join Team")])])])])})),0)]):e._e()])},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"invites-header"},[a("h1",[e._v("Invitationer")])])}],b={props:{StartLoading:{},OpenTeams:{},TeamInvites:{},MaxMembers:{},NameResource:{},close:{}},data:function(){return{NoTeamPage:"createTeam"}},methods:{receiveLua:function(e){e&&e.data},SelectNoTeamPage:function(e){this.NoTeamPage=e},IsObjectEmpty:function(e){return Object.keys(e).length<=0},toggleTeamDiv:function(e){e.isOpen=!e.isOpen},CreateTeam:function(){var e=this;Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.a.fire({title:"Navn på dit Team",input:"text",inputPlaceholder:"Skriv navnet på dit Team her...",showCancelButton:!0});case 2:a=t.sent,s=a.value,s&&(n=e.NameResource[0],i=s,e.StartLoading("opretter team",5e3),c.a.post("https://".concat(n,"/CreateTeam"),{team_name:i}).catch((function(e){console.log(e+" : Error at CreateTean")})));case 5:case"end":return t.stop()}}),t)})))()},JoinTeam:function(e){var t=this.NameResource[0];c.a.post("https://".concat(t,"/jointeamHub"),{uuid:e.uuid}).catch((function(e){console.log(e+" : Error at jointeamHub")}))},AccecptInvite:function(e){var t=this.NameResource[0];c.a.post("https://".concat(t,"/acceptInvite"),{uuid:e.uuid}).catch((function(e){console.log(e+" : Error at newTimeLap")}))},DeclineInvite:function(e){var t=this.NameResource[0];c.a.post("https://".concat(t,"/declineInvite"),{uuid:e.uuid}).catch((function(e){console.log(e+" : Error at newTimeLap")}))},keyPress:function(e){var t=e.key;"Escape"==t&&this.close()}},created:function(){window.addEventListener("message",this.receiveLua),window.addEventListener("keydown",this.keyPress)},destroyed:function(){window.removeEventListener("message",this.receiveLua),window.removeEventListener("keydown",this.keyPress)}},R=b,y=(a("3ba8"),Object(h["a"])(R,T,_,!1,null,null,null)),w=y.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"race-scoreboard"},[a("div",{staticClass:"race-container"},[a("div",{staticClass:"race-column",attrs:{id:"lap"}},[a("h1",[e._v("Pos")]),a("div",{staticClass:"stats"},[a("span",[e._v(e._s(e.currentPos))]),e._v("/"),a("span",[e._v(e._s(e.currentMaxPos))])])]),a("div",{staticClass:"race-column",attrs:{id:"lap"}},[a("h1",[e._v("Laps")]),a("div",{staticClass:"stats"},[a("span",[e._v(e._s(e.currentLap))]),e._v("/"),a("span",[e._v(e._s(e.currentMaxLap))])])]),a("div",{staticClass:"race-column",attrs:{id:"checkpoint"}},[a("h1",[e._v("Checkpoint")]),a("div",{staticClass:"stats"},[a("span",[e._v(e._s(e.currentCheck))]),e._v("/"),a("span",[e._v(e._s(e.currentMaxCheck))])])]),a("div",{staticClass:"race-column",attrs:{id:"curent"}},[a("h1",[e._v("Current Lap")]),a("div",{staticClass:"stats"},[a("span",[e._v(e._s(e.currentMin))]),e._v(":"),a("span",[e._v(e._s(e.currentSec))]),e._v(":"),a("span",[e._v(e._s(e.currentMS))])])]),a("div",{staticClass:"race-column",attrs:{id:"best"}},[a("h1",[e._v("Best Lap")]),a("div",{staticClass:"stats"},[a("span",[e._v(e._s(e.bestMin))]),e._v(":"),a("span",[e._v(e._s(e.bestSec))]),e._v(":"),a("span",[e._v(e._s(e.bestMS))])])]),a("div",{staticClass:"race-column",attrs:{id:"total"}},[a("h1",[e._v("Total Time")]),a("div",{staticClass:"stats"},[a("span",[e._v(e._s(e.totalMin))]),e._v(":"),a("span",[e._v(e._s(e.totalSec))]),e._v(":"),a("span",[e._v(e._s(e.totalMS))])])])])])},k=[],S={props:{isRacing:{},prependZero:{},NameResource:{},close:{}},data:function(){return{raceid:0,currentPos:0,currentMaxPos:0,currentLap:0,currentMaxLap:0,currentCheck:0,currentMaxCheck:0,currentTimeUpdate:0,startCurrentTime:0,totalTimeUpdate:0,startTotalTime:0,bestTimeElapsed:0,currentMin:this.prependZero(0,2),currentSec:this.prependZero(0,2),currentMS:this.prependZero(0,3),bestMin:this.prependZero(0,2),bestSec:this.prependZero(0,2),bestMS:this.prependZero(0,3),totalMin:this.prependZero(0,2),totalSec:this.prependZero(0,2),totalMS:this.prependZero(0,3)}},methods:{receiveLua:function(e){if(e&&e.data){var t=e.data;if(t.resetStats&&(this.setStopwatch("current",0,0,0),this.setStopwatch("best",0,0,0),this.setStopwatch("total",0,0,0)),t.startRacing){if(!this.isRacing)return;t.raceid&&(this.raceid=t.raceid),this.startRacing()}if(t.stopRacing){if(!this.isRacing)return;0==t.forceStop&&(this.newRacingLap(),this.SyncRaceStats(t)),this.stopRacing()}if(t.newLap){if(!this.isRacing)return;this.newRacingLap(),this.SyncRaceStats(t)}t.SyncRaceStats&&this.SyncRaceStats(t)}},startRacing:function(){this.updateCurrentTime(),this.updateTotalTime()},stopRacing:function(){var e=this;e.currentTimeUpdate&&clearInterval(e.currentTimeUpdate),e.totalTimeUpdate&&clearInterval(e.totalTimeUpdate),e.currentTimeUpdate=0,e.startCurrentTime=0,e.totalTimeUpdate=0,e.startTotalTime=0,e.bestTimeElapsed=0},SyncRaceStats:function(e){e.position&&(this.currentPos=e.position),e.maxPosition&&(this.currentMaxPos=e.maxPosition),e.lap&&(this.currentLap=e.lap),e.maxLap&&(this.currentMaxLap=e.maxLap),e.checkpoint&&(this.currentCheck=e.checkpoint),e.maxCheckpoints&&(this.currentMaxCheck=e.maxCheckpoints)},newRacingLap:function(){var e=this;if(e.currentTimeUpdate&&clearInterval(e.currentTimeUpdate),e.setStopwatch("current",0,0,0),0!=e.startCurrentTime){var t=e.NameResource[0],a=(new Date).getTime()-e.startCurrentTime.getTime();if(0!=e.bestTimeElapsed){var s=a-e.bestTimeElapsed,n=parseInt(s/1e3/60);n>=60&&(n%=60);var i=parseInt(s/1e3);i>=60&&(i%=60);var r=s;r>=1e3&&(r%=1e3);var o="slower";r<0&&(o="faster");var u=Math.abs(n),l=Math.abs(i),m=Math.abs(r);c.a.post("https://".concat(t,"/timeStatus"),{type:o,minutes:e.prependZero(u,2),seconds:e.prependZero(l,2),milliseconds:e.prependZero(m,3)}).catch((function(e){console.log(e+" : Error at timeStatus")}))}if(0==e.bestTimeElapsed||e.bestTimeElapsed>a){var p=parseInt(a/1e3/60);p>=60&&(p%=60);var d=parseInt(a/1e3);d>=60&&(d%=60);var v=a;v>=1e3&&(v%=1e3),e.bestTimeElapsed=a,e.setStopwatch("best",p,d,v)}c.a.post("https://".concat(t,"/newTimeLap"),{raceid:e.raceid,time:a}).catch((function(e){console.log(e+" : Error at newTimeLap")})),e.currentTimeUpdate=0,e.updateCurrentTime()}},updateCurrentTime:function(){var e=this;e.currentTimeUpdate||(e.startCurrentTime=new Date,e.currentTimeUpdate=setInterval((function(){var t=(new Date).getTime()-e.startCurrentTime.getTime(),a=parseInt(t/1e3/60);a>=60&&(a%=60);var s=parseInt(t/1e3);s>=60&&(s%=60);var n=t;n>=1e3&&(n%=1e3),e.setStopwatch("current",a,s,n)}),25))},updateTotalTime:function(){var e=this;e.totalTimeUpdate||(e.startTotalTime=new Date,e.totalTimeUpdate=setInterval((function(){var t=(new Date).getTime()-e.startTotalTime.getTime(),a=parseInt(t/1e3/60);a>=60&&(a%=60);var s=parseInt(t/1e3);s>=60&&(s%=60);var n=t;n>=1e3&&(n%=1e3),e.setStopwatch("total",a,s,n)}),25))},setStopwatch:function(e,t,a,s){"current"==e&&(this.currentMin=this.prependZero(t,2),this.currentSec=this.prependZero(a,2),this.currentMS=this.prependZero(s,3)),"best"==e&&(this.bestMin=this.prependZero(t,2),this.bestSec=this.prependZero(a,2),this.bestMS=this.prependZero(s,3)),"total"==e&&(this.totalMin=this.prependZero(t,2),this.totalSec=this.prependZero(a,2),this.totalMS=this.prependZero(s,3))},keyPress:function(e){var t=e.key;"Escape"==t&&this.close()}},created:function(){window.addEventListener("message",this.receiveLua),window.addEventListener("keydown",this.keyPress)},destroyed:function(){window.removeEventListener("message",this.receiveLua),window.removeEventListener("keydown",this.keyPress)}},L=S,E=(a("75f3"),Object(h["a"])(L,C,k,!1,null,null,null)),I=E.exports,O={components:{Team:g,NoTeam:w,Racing:I},data:function(){return{opened:!1,isRacing:!1,isLoading:!1,loadingMessage:"",hasCountdown:!1,countdown:0,NameResource:"drp_teams",source:1,playerJob:"none",MaxMembers:30,Races:[],Team:[],OpenTeams:[],TeamInvites:[]}},methods:{receiveLua:function(e){if(e&&e.data){var t=e.data;t.init&&(this.source=t.source,this.playerJob=t.playerJob,this.Races=t.Races,this.MaxMembers=t.MaxMembers,this.NameResource=t.NameResource),t.open&&(this.opened=!0),t.close&&this.close(),t.refreshJob&&(this.playerJob=t.playerJob),t.refreshTeam&&(this.Team=t.Team),t.refreshInvites&&(this.TeamInvites=t.TeamInvites),t.refreshHubs&&(this.OpenTeams=t.OpenTeams),t.refreshRaces&&(this.Races=t.Races),t.showRaceStats&&(this.isRacing=!0,this.close()),t.hideRaceStats&&(this.isRacing=!1),t.ToggleRaceActive&&this.ToggleRaceActive(t.raceID),t.StartLoading&&this.StartLoading(t.message,t.timeout,t.closeAfter),t.StopLoading&&this.StopLoading(),t.ShowNotification&&this.ShowNotification(t.type,t.title,t.text,t.duration),t.startCountdown&&this.startCountdownTimer(t.time)}},isArrayEmpty:function(e){return e.length<=0},IsObjectEmpty:function(e){return Object.keys(e).length<=0},GetRaceByID:function(e){for(var t in this.Races){var a=this.Races[t];if(a.id==e)return a}return null},GetRaceKeyByID:function(e){for(var t in this.Races){var a=this.Races[t];if(a.id==e)return t}return null},ToggleRaceActive:function(e){var t=this.GetRaceByID(e);t.isActive=!t.isActive},StartLoading:function(e,t,a){null==a&&(a=!1),null==t&&(t=5e3);var s=this;s.isLoading=!0,s.loadingMessage=e;var n=s.NameResource[0];c.a.post("https://".concat(n,"/isLoading"),{isLoading:s.isLoading}).catch((function(e){console.log(e+" : Error at isLoading")})),setTimeout((function(){if(s.isLoading){s.isLoading=!1,s.loadingMessage="";var e=s.NameResource[0];c.a.post("https://".concat(e,"/isLoading"),{isLoading:s.isLoading}).catch((function(e){console.log(e+" : Error at isLoading")})),a&&s.close()}}),t)},StopLoading:function(){this.isLoading=!1,this.loadingMessage="";var e=this.NameResource[0];c.a.post("https://".concat(e,"/isLoading"),{isLoading:this.isLoading}).catch((function(e){console.log(e+" : Error at isLoading")}))},prependZero:function(e,t){return e=new String(e),e=e.substring(0,t),new Array(Math.max(t-e.length+1,0)).join("0")+e},ShowNotification:function(e,t,a,s){null==s&&(s=5e3),this.$notify({group:"alert",type:e,title:t,text:a,duration:s})},startCountdownTimer:function(e){this.hasCountdown=!0,this.countdownTimer(e)},countdownTimer:function(e){var t=this;if(e&&(t.countdown=e),t.countdown>0&&setTimeout((function(){t.countdown-=1,t.countdownTimer()}),1e3),t.countdown<=0){t.countdown="GO";var a=t.NameResource[0];c.a.post("https://".concat(a,"/finishCountdown")).catch((function(e){console.log(e+" : Error at finishCountdown")})),setTimeout((function(){t.countdown=0,t.hasCountdown=!1}),2e3)}},close:function(){if(!this.closed){var e=this.NameResource[0];c.a.post("https://".concat(e,"/close")).catch((function(e){console.log(e+" : Error at close")})),this.opened=!1}},keyPress:function(e){var t=e.key;"Escape"==t&&this.close()}},created:function(){window.addEventListener("message",this.receiveLua),window.addEventListener("keydown",this.keyPress)},destroyed:function(){window.removeEventListener("message",this.receiveLua),window.removeEventListener("keydown",this.keyPress)}},P=O,M=(a("034f"),Object(h["a"])(P,n,i,!1,null,null,null)),x=M.exports,N=a("ee98"),j=a.n(N),D=a("589d"),Z=a.n(D),J=a("f9d5"),G=a.n(J);s["default"].config.productionTip=!1,s["default"].use(G.a),s["default"].use(j.a,{velocity:Z.a}),new s["default"]({render:function(e){return e(x)}}).$mount("#app")},"75f3":function(e,t,a){"use strict";a("1bc3")},"85ec":function(e,t,a){},"9c91":function(e,t,a){},e3ea:function(e,t,a){}});
//# sourceMappingURL=app.f4235f29.js.map